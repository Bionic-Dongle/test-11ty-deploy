<aside class="sidebar">
  
  <!-- Latest Posts Widget -->
  <div class="sidebar-widget">
    <h3>Latest Posts</h3>
    <ul>
      {% for post in collections.posts | reverse %}
      {% if loop.index <= 3 %}
      <li>
        <div class="sidebar-post-image">
          {% if post.data.image %}
          <img src="{{ post.data.image }}" alt="{{ post.data.title }}">
          {% else %}
          <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9rem; text-align: center; padding: 10px;">
            Post Image
          </div>
          {% endif %}
        </div>
        <a href="{{ post.url }}">{{ post.data.title }}</a>
      </li>
      {% endif %}
      {% endfor %}
    </ul>
  </div>
  
  <!-- Ad Placeholder -->
  <div class="sidebar-widget">
    <h3>Advertisement</h3>
    <div class="ad-placeholder">
      Ad Space<br>300x250
    </div>
  </div>
  
  <!-- Categories Widget -->
  {% if siteContent.sidebar and siteContent.sidebar.categories %}
  <div class="sidebar-widget">
    <h3>Categories</h3>
    <ul>
      {% for category in siteContent.sidebar.categories %}
      <li><a href="{{ category.link }}">{{ category.name }}</a></li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
  
  <!-- Custom Widget Area -->
  {% if siteContent.sidebar and siteContent.sidebar.custom_html %}
  <div class="sidebar-widget">
    {{ siteContent.sidebar.custom_html | safe }}
  </div>
  {% endif %}
  
</aside>
